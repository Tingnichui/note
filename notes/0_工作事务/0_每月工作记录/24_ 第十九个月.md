 202309月工作记录

>  2023.9.1

大晚上打电话让我配置东西，省里的人要临时测试，我就很怀疑配置之后能不能有效，在我眼里网管项目就是依托答辩。果然，没生效，不管怎么配都不生效，配了别的也不生效，那边的戴总还总催我行不行，我真服了，你们这垃圾系统做的依托答辩。。。最后实在没办法了，还是我往数据库里面插了一条数据。然后我排查问题发现日志一直报错，简单看了看原来是某个必填参数没有填，前端也没做提示。我不懂这个系统，戴总居然也不懂，我也没及时看运行日志，其实解决一下也就五分钟的问题，我思来想去，是我太相信戴总了，他说功能正常我就没想着往系统报错那块想。。。这个配置导致了后面不管配置多少个配置都没用，因为代码里面使用stream做处理，把string转成int报错了，因为string是空

**<u>出现问题的时候，第一不要相信任何人，只相信代码，代码是死的不会说假话，第二赶紧查看日志是否正常输出，第三如果之前运行正常，更改之后出现异常，撤销之前的操作，再试其他的，一个一个尝试，把问题慢慢隔离出来</u>**

我干到了凌晨4点，也不是一直在找问题，就是很烦，总是在周末的时候找我处理问题，我一边玩手机一遍搞一遍刷小视频。我也跟戴总说了，离职的事情，他问我找好下家了？我说没有。他说要派个人跟我交接一下，毕竟这个项目就我一个人懂了。我说好好好，我肯定交接好。我打算周末把简历改好，下周一开始投简历

> 2023.9.2

网管一直接收不到syslog的问题终于找到了，原来是政务外网扫描扫不到服务器的udp端口，我本机是没有问题的，iptables做了udp访问记录。等我再上服务器就成功接收到了，肯定是台州的人没有打开udp的访问权限，我问他他还说不清楚。。。之前一直想让他从设备上发送个消息过来试试，他说没法手动发送，并说他们的老系统是没有问题的，我就把重心放在了服务器上面，搞了几天用iptable记录端口访问日志。后来他们设备ping 和 telnet可以通，说明tcp没有问题，可是udp设备上没有命令，台州说可以做个策略，用他电脑去发，设备和他笔记本在一个政务外网。nmap扫了一下端口，立马就解决了。。。

**<u>出现问题的时候，先排除我方的问题并做好相关的日志记录，然后在让对方排查，如果没有方法在本机操作，看看有没有别的方法能够在同一个坏境测试</u>**

> 2023.9.4

网管告警终于搞好了，妈的还是要看环境，看代码，靠日志

**<u>如果相同的系统，一个可以一个却不行，首先排查代码包是否一致，第二配置是否一致，第三数据库存储的内容是否一致，第四看代码，总结就是从大到小，从宏观到微观，环境具体到代码</u>**